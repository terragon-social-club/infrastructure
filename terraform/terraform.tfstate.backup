{
  "version": 4,
  "terraform_version": "0.12.4",
  "serial": 851,
  "lineage": "fcc2f08b-1d42-7c9c-9627-368337cc12d9",
  "outputs": {},
  "resources": [
    {
      "module": "module.Salt_Master",
      "mode": "data",
      "type": "local_file",
      "name": "salt_master_key",
      "provider": "provider.local",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCiAwxol0dpvEj4B0svum8kVqJv86LcsctUCHmNYNlCqxhw6rO7rqCI6KHgEe/XFahiYNwESEEwgZjP9/CZQyvdWaD9l9Ug4UyboSGlvER6A+ztt/ozaJSy/VGhT5CEJoxtSvI6uMOFIJhfSX/dyJZDpLMxf9sdl086AZWFLGZf0xZZuQVRTzLBwPVYCGKXybm/bG+rDTj24Hj6ADONNCm+kqK2nuF/M6eBPvgWIXTtNDPHe/NS7Ii2c1My7n43+rzV2FgpvGBsPdNfcjt/tFkdk4r5oViFfdAEzXBR3/9JCKohGdtlHjL5KHTq+puEW+TtTZKbwOuEID/sVcTWTfft root@saltm\n",
            "filename": "modules/salt-master/keys/151829113.pub",
            "id": "c93ff9902ce530625fcbcd2e3b170a9bb4b872e4"
          },
          "depends_on": [
            "digitalocean_droplet.salt_master",
            "null_resource.master_prep"
          ]
        }
      ]
    },
    {
      "module": "module.Salt_Master",
      "mode": "data",
      "type": "template_file",
      "name": "grains",
      "provider": "provider.template",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "de3b5ab6c1e545d47d0a96b438c10155fcac92df8ecc5ca3c17ceace2663814b",
            "rendered": "roles:\n  - master\nfqdn: saltm.terragon.us\n",
            "template": "roles:\n${roles}\nfqdn: ${fqdn}\n",
            "vars": {
              "fqdn": "saltm.terragon.us",
              "roles": "  - master"
            }
          }
        }
      ]
    },
    {
      "module": "module.Salt_Master",
      "mode": "data",
      "type": "template_file",
      "name": "master_config",
      "provider": "provider.template",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "filename": null,
            "id": "ef4b63d00fb606a97aed190f722920c7d3eac84ccf816c2e11ea2d93955d9af1",
            "rendered": "interface: 10.136.190.136\nfileserver_backend:\n  - git\n  - minion\n  \ngitfs_remotes:\n  - https://github.com/terragon-social-club/infrastructure.git:\n    - mountpoint: salt:///\n      \ngitfs_root: salt\ntransport: zeromq\nfile_recv: True\n\nreactor:\n  - jenkins/build/succeeded:\n    - salt:///files/reactor/jenkins/post-build.sls\n",
            "template": "interface: ${private_ip}\nfileserver_backend:\n  - git\n  - minion\n  \ngitfs_remotes:\n  - https://github.com/terragon-social-club/infrastructure.git:\n    - mountpoint: salt:///\n      \ngitfs_root: salt\ntransport: zeromq\nfile_recv: True\n\nreactor:\n  - jenkins/build/succeeded:\n    - salt:///files/reactor/jenkins/post-build.sls\n",
            "vars": {
              "private_ip": "10.136.190.136"
            }
          },
          "depends_on": [
            "digitalocean_droplet.salt_master"
          ]
        }
      ]
    },
    {
      "module": "module.Salt_Master",
      "mode": "managed",
      "type": "digitalocean_droplet",
      "name": "salt_master",
      "provider": "provider.digitalocean",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "backups": false,
            "disk": 20,
            "id": "151829113",
            "image": "freebsd-12-x64-zfs",
            "ipv4_address": "165.227.194.49",
            "ipv4_address_private": "10.136.190.136",
            "ipv6": false,
            "ipv6_address": "",
            "ipv6_address_private": "",
            "locked": false,
            "memory": 512,
            "monitoring": false,
            "name": "saltm",
            "price_hourly": 0.00744,
            "price_monthly": 5,
            "private_networking": true,
            "region": "nyc1",
            "resize_disk": true,
            "size": "512mb",
            "ssh_keys": [
              "2e:05:a5:d1:0f:9e:d8:4e:06:af:20:e7:d4:8b:7b:96"
            ],
            "status": "active",
            "tags": null,
            "urn": "do:droplet:151829113",
            "user_data": null,
            "vcpus": 1,
            "volume_ids": []
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "module": "module.WebRedirectEndpoint",
      "mode": "managed",
      "type": "digitalocean_droplet",
      "name": "salt_minion",
      "each": "list",
      "provider": "provider.digitalocean",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "backups": false,
            "disk": 25,
            "id": "151829568",
            "image": "freebsd-12-x64-zfs",
            "ipv4_address": "174.138.33.249",
            "ipv4_address_private": "10.136.78.54",
            "ipv6": false,
            "ipv6_address": "",
            "ipv6_address_private": "",
            "locked": false,
            "memory": 1024,
            "monitoring": false,
            "name": "web-redirect-a",
            "price_hourly": 0.00744,
            "price_monthly": 5,
            "private_networking": true,
            "region": "nyc1",
            "resize_disk": true,
            "size": "s-1vcpu-1gb",
            "ssh_keys": [
              "0c:0d:85:0b:b3:f3:ee:53:41:8f:3e:07:6e:39:cc:da",
              "2e:05:a5:d1:0f:9e:d8:4e:06:af:20:e7:d4:8b:7b:96"
            ],
            "status": "active",
            "tags": null,
            "urn": "do:droplet:151829568",
            "user_data": null,
            "vcpus": 1,
            "volume_ids": []
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "module": "module.NodeJSApi-A",
      "mode": "managed",
      "type": "digitalocean_droplet",
      "name": "salt_minion",
      "each": "list",
      "provider": "provider.digitalocean",
      "instances": []
    },
    {
      "module": "module.Jenkins",
      "mode": "managed",
      "type": "digitalocean_droplet",
      "name": "salt_minion",
      "each": "list",
      "provider": "provider.digitalocean",
      "instances": []
    },
    {
      "module": "module.CouchDB",
      "mode": "managed",
      "type": "digitalocean_droplet",
      "name": "salt_minion",
      "each": "list",
      "provider": "provider.digitalocean",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 1,
          "attributes": {
            "backups": false,
            "disk": 60,
            "id": "151829567",
            "image": "freebsd-12-x64-zfs",
            "ipv4_address": "174.138.38.13",
            "ipv4_address_private": "10.136.58.218",
            "ipv6": false,
            "ipv6_address": "",
            "ipv6_address_private": "",
            "locked": false,
            "memory": 2048,
            "monitoring": false,
            "name": "couchdb-a",
            "price_hourly": 0.02232,
            "price_monthly": 15,
            "private_networking": true,
            "region": "nyc1",
            "resize_disk": true,
            "size": "s-2vcpu-2gb",
            "ssh_keys": [
              "0c:0d:85:0b:b3:f3:ee:53:41:8f:3e:07:6e:39:cc:da",
              "2e:05:a5:d1:0f:9e:d8:4e:06:af:20:e7:d4:8b:7b:96"
            ],
            "status": "active",
            "tags": null,
            "urn": "do:droplet:151829567",
            "user_data": null,
            "vcpus": 2,
            "volume_ids": []
          },
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "module": "module.WebRedirectEndpoint",
      "mode": "managed",
      "type": "digitalocean_firewall",
      "name": "all_outbound",
      "each": "list",
      "provider": "provider.digitalocean",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "created_at": null,
            "droplet_ids": [
              151829568
            ],
            "id": "0cc2fa4d-8dd1-48d5-9b0c-4254ef523dc7",
            "inbound_rule": [],
            "name": "All-web-redirect-Outbound",
            "outbound_rule": [
              {
                "destination_addresses": [
                  "0.0.0.0/0"
                ],
                "destination_droplet_ids": [],
                "destination_load_balancer_uids": [],
                "destination_tags": [],
                "port_range": "",
                "protocol": "icmp"
              },
              {
                "destination_addresses": [
                  "0.0.0.0/0"
                ],
                "destination_droplet_ids": [],
                "destination_load_balancer_uids": [],
                "destination_tags": [],
                "port_range": "1-65535",
                "protocol": "tcp"
              },
              {
                "destination_addresses": [
                  "0.0.0.0/0"
                ],
                "destination_droplet_ids": [],
                "destination_load_balancer_uids": [],
                "destination_tags": [],
                "port_range": "1-65535",
                "protocol": "udp"
              }
            ],
            "pending_changes": [],
            "status": "succeeded",
            "tags": null
          },
          "private": "bnVsbA==",
          "depends_on": [
            "digitalocean_droplet.salt_minion"
          ]
        }
      ]
    },
    {
      "module": "module.Salt_Master",
      "mode": "managed",
      "type": "digitalocean_firewall",
      "name": "all_outbound",
      "provider": "provider.digitalocean",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "created_at": null,
            "droplet_ids": [
              151829113
            ],
            "id": "fe9ce7a2-01cb-4a2a-8724-7be933fd128f",
            "inbound_rule": [],
            "name": "All-Salt-Master-Outbound",
            "outbound_rule": [
              {
                "destination_addresses": [
                  "0.0.0.0/0"
                ],
                "destination_droplet_ids": [],
                "destination_load_balancer_uids": [],
                "destination_tags": [],
                "port_range": "",
                "protocol": "icmp"
              },
              {
                "destination_addresses": [
                  "0.0.0.0/0"
                ],
                "destination_droplet_ids": [],
                "destination_load_balancer_uids": [],
                "destination_tags": [],
                "port_range": "1-65535",
                "protocol": "tcp"
              },
              {
                "destination_addresses": [
                  "0.0.0.0/0"
                ],
                "destination_droplet_ids": [],
                "destination_load_balancer_uids": [],
                "destination_tags": [],
                "port_range": "1-65535",
                "protocol": "udp"
              }
            ],
            "pending_changes": [],
            "status": "succeeded",
            "tags": null
          },
          "private": "bnVsbA==",
          "depends_on": [
            "digitalocean_droplet.salt_master"
          ]
        }
      ]
    },
    {
      "module": "module.NodeJSApi-A",
      "mode": "managed",
      "type": "digitalocean_firewall",
      "name": "all_outbound",
      "each": "list",
      "provider": "provider.digitalocean",
      "instances": []
    },
    {
      "module": "module.Jenkins",
      "mode": "managed",
      "type": "digitalocean_firewall",
      "name": "all_outbound",
      "each": "list",
      "provider": "provider.digitalocean",
      "instances": []
    },
    {
      "module": "module.CouchDB",
      "mode": "managed",
      "type": "digitalocean_firewall",
      "name": "all_outbound",
      "each": "list",
      "provider": "provider.digitalocean",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "created_at": null,
            "droplet_ids": [
              151829567
            ],
            "id": "74b4c644-ba4d-44c9-b862-46081f0c3d6d",
            "inbound_rule": [],
            "name": "All-couchdb-Outbound",
            "outbound_rule": [
              {
                "destination_addresses": [
                  "0.0.0.0/0"
                ],
                "destination_droplet_ids": [],
                "destination_load_balancer_uids": [],
                "destination_tags": [],
                "port_range": "",
                "protocol": "icmp"
              },
              {
                "destination_addresses": [
                  "0.0.0.0/0"
                ],
                "destination_droplet_ids": [],
                "destination_load_balancer_uids": [],
                "destination_tags": [],
                "port_range": "1-65535",
                "protocol": "tcp"
              },
              {
                "destination_addresses": [
                  "0.0.0.0/0"
                ],
                "destination_droplet_ids": [],
                "destination_load_balancer_uids": [],
                "destination_tags": [],
                "port_range": "1-65535",
                "protocol": "udp"
              }
            ],
            "pending_changes": [
              {
                "droplet_id": 151829567,
                "removing": false,
                "status": "waiting"
              }
            ],
            "status": "waiting",
            "tags": null
          },
          "private": "bnVsbA==",
          "depends_on": [
            "digitalocean_droplet.salt_minion"
          ]
        }
      ]
    },
    {
      "module": "module.Firewalls",
      "mode": "managed",
      "type": "digitalocean_firewall",
      "name": "minions_master_ping_each_other",
      "provider": "provider.digitalocean",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "created_at": null,
            "droplet_ids": [
              151829113,
              151829567
            ],
            "id": "157c5f6d-08d9-41b7-99d4-7d7e4ee83f78",
            "inbound_rule": [
              {
                "port_range": "",
                "protocol": "icmp",
                "source_addresses": [
                  "10.136.190.136",
                  "10.136.58.218"
                ],
                "source_droplet_ids": [],
                "source_load_balancer_uids": [],
                "source_tags": []
              }
            ],
            "name": "Minions-Master-Ping-Each-Other",
            "outbound_rule": [],
            "pending_changes": [
              {
                "droplet_id": 151829567,
                "removing": false,
                "status": "waiting"
              }
            ],
            "status": "waiting",
            "tags": null
          },
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "module": "module.WebRedirectEndpoint",
      "mode": "managed",
      "type": "digitalocean_firewall",
      "name": "salt_salt_minion_to_salt_master_private",
      "each": "list",
      "provider": "provider.digitalocean",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "created_at": null,
            "droplet_ids": [
              151829113
            ],
            "id": "70008372-b702-42cc-aec8-42a0c47c299e",
            "inbound_rule": [
              {
                "port_range": "4505-4506",
                "protocol": "tcp",
                "source_addresses": [
                  "10.136.78.54"
                ],
                "source_droplet_ids": [],
                "source_load_balancer_uids": [],
                "source_tags": []
              }
            ],
            "name": "Salt-web-redirect-To-Salt-Master-Private",
            "outbound_rule": [],
            "pending_changes": [],
            "status": "succeeded",
            "tags": null
          },
          "private": "bnVsbA==",
          "depends_on": [
            "digitalocean_droplet.salt_minion"
          ]
        }
      ]
    },
    {
      "module": "module.NodeJSApi-A",
      "mode": "managed",
      "type": "digitalocean_firewall",
      "name": "salt_salt_minion_to_salt_master_private",
      "each": "list",
      "provider": "provider.digitalocean",
      "instances": []
    },
    {
      "module": "module.Jenkins",
      "mode": "managed",
      "type": "digitalocean_firewall",
      "name": "salt_salt_minion_to_salt_master_private",
      "each": "list",
      "provider": "provider.digitalocean",
      "instances": []
    },
    {
      "module": "module.CouchDB",
      "mode": "managed",
      "type": "digitalocean_firewall",
      "name": "salt_salt_minion_to_salt_master_private",
      "each": "list",
      "provider": "provider.digitalocean",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "created_at": null,
            "droplet_ids": [
              151829113
            ],
            "id": "5e27d229-14e4-4e3d-99d4-af9408510f20",
            "inbound_rule": [
              {
                "port_range": "4505-4506",
                "protocol": "tcp",
                "source_addresses": [
                  "10.136.58.218"
                ],
                "source_droplet_ids": [],
                "source_load_balancer_uids": [],
                "source_tags": []
              }
            ],
            "name": "Salt-couchdb-To-Salt-Master-Private",
            "outbound_rule": [],
            "pending_changes": [],
            "status": "succeeded",
            "tags": null
          },
          "private": "bnVsbA==",
          "depends_on": [
            "digitalocean_droplet.salt_minion"
          ]
        }
      ]
    },
    {
      "module": "module.Salt_Master",
      "mode": "managed",
      "type": "digitalocean_firewall",
      "name": "ssh_public_access",
      "provider": "provider.digitalocean",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "created_at": null,
            "droplet_ids": [
              151829113
            ],
            "id": "3e55433e-cf29-45ba-9c8b-a3aaededc1d4",
            "inbound_rule": [
              {
                "port_range": "22",
                "protocol": "tcp",
                "source_addresses": [
                  "0.0.0.0/0"
                ],
                "source_droplet_ids": [],
                "source_load_balancer_uids": [],
                "source_tags": []
              }
            ],
            "name": "Public-To-Master",
            "outbound_rule": [],
            "pending_changes": [],
            "status": "succeeded",
            "tags": null
          },
          "private": "bnVsbA==",
          "depends_on": [
            "digitalocean_droplet.salt_master"
          ]
        }
      ]
    },
    {
      "module": "module.WebRedirectEndpoint",
      "mode": "managed",
      "type": "digitalocean_firewall",
      "name": "ssh_salt_master_to_minion_private",
      "each": "list",
      "provider": "provider.digitalocean",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "created_at": null,
            "droplet_ids": [
              151829568
            ],
            "id": "cb4374c0-c719-434b-a5b3-d555d65d849d",
            "inbound_rule": [
              {
                "port_range": "22",
                "protocol": "tcp",
                "source_addresses": [
                  "165.227.194.49"
                ],
                "source_droplet_ids": [],
                "source_load_balancer_uids": [],
                "source_tags": []
              }
            ],
            "name": "SSH-Salt-Master-To-web-redirect-Private",
            "outbound_rule": [],
            "pending_changes": [],
            "status": "succeeded",
            "tags": null
          },
          "private": "bnVsbA==",
          "depends_on": [
            "digitalocean_droplet.salt_minion"
          ]
        }
      ]
    },
    {
      "module": "module.NodeJSApi-A",
      "mode": "managed",
      "type": "digitalocean_firewall",
      "name": "ssh_salt_master_to_minion_private",
      "each": "list",
      "provider": "provider.digitalocean",
      "instances": []
    },
    {
      "module": "module.Jenkins",
      "mode": "managed",
      "type": "digitalocean_firewall",
      "name": "ssh_salt_master_to_minion_private",
      "each": "list",
      "provider": "provider.digitalocean",
      "instances": []
    },
    {
      "module": "module.CouchDB",
      "mode": "managed",
      "type": "digitalocean_firewall",
      "name": "ssh_salt_master_to_minion_private",
      "each": "list",
      "provider": "provider.digitalocean",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "created_at": null,
            "droplet_ids": [
              151829567
            ],
            "id": "87869d2e-5331-4b98-b8fd-c400efb6d807",
            "inbound_rule": [
              {
                "port_range": "22",
                "protocol": "tcp",
                "source_addresses": [
                  "10.136.190.136"
                ],
                "source_droplet_ids": [],
                "source_load_balancer_uids": [],
                "source_tags": []
              }
            ],
            "name": "SSH-Salt-Master-To-couchdb-Private",
            "outbound_rule": [],
            "pending_changes": [
              {
                "droplet_id": 151829567,
                "removing": false,
                "status": "waiting"
              }
            ],
            "status": "waiting",
            "tags": null
          },
          "private": "bnVsbA==",
          "depends_on": [
            "digitalocean_droplet.salt_minion"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "digitalocean_firewall",
      "name": "web_traffic_for_redirect",
      "each": "list",
      "provider": "provider.digitalocean",
      "instances": []
    },
    {
      "mode": "managed",
      "type": "digitalocean_record",
      "name": "hushmail-1",
      "provider": "provider.digitalocean",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "domain": "terragon.us",
            "flags": 0,
            "fqdn": "@.terragon.us",
            "id": "73132465",
            "name": "@",
            "port": 0,
            "priority": 10,
            "tag": "",
            "ttl": 1800,
            "type": "MX",
            "value": "plsmtp2.hushmail.com.",
            "weight": 0
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "digitalocean_record",
      "name": "hushmail-2",
      "provider": "provider.digitalocean",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "domain": "terragon.us",
            "flags": 0,
            "fqdn": "@.terragon.us",
            "id": "73132464",
            "name": "@",
            "port": 0,
            "priority": 10,
            "tag": "",
            "ttl": 1800,
            "type": "MX",
            "value": "plsmtp1.hushmail.com.",
            "weight": 0
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "digitalocean_record",
      "name": "redirect",
      "each": "list",
      "provider": "provider.digitalocean",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "domain": "terragon.us",
            "flags": 0,
            "fqdn": "@.terragon.us",
            "id": "72935830",
            "name": "@",
            "port": 0,
            "priority": 0,
            "tag": "",
            "ttl": 1800,
            "type": "A",
            "value": "174.138.33.249",
            "weight": 0
          },
          "private": "bnVsbA==",
          "depends_on": [
            "module.WebRedirectEndpoint"
          ]
        }
      ]
    },
    {
      "module": "module.Salt_Master",
      "mode": "managed",
      "type": "digitalocean_record",
      "name": "salt_master",
      "provider": "provider.digitalocean",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "domain": "terragon.us",
            "flags": 0,
            "fqdn": "saltm.terragon.us",
            "id": "72521795",
            "name": "saltm",
            "port": 0,
            "priority": 0,
            "tag": "",
            "ttl": 1800,
            "type": "A",
            "value": "165.227.194.49",
            "weight": 0
          },
          "private": "bnVsbA==",
          "depends_on": [
            "digitalocean_droplet.salt_master"
          ]
        }
      ]
    },
    {
      "module": "module.Salt_Master",
      "mode": "managed",
      "type": "digitalocean_record",
      "name": "salt_master_private",
      "provider": "provider.digitalocean",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "domain": "terragon.us",
            "flags": 0,
            "fqdn": "saltm.private.terragon.us",
            "id": "75640569",
            "name": "saltm.private",
            "port": 0,
            "priority": 0,
            "tag": "",
            "ttl": 1800,
            "type": "A",
            "value": "10.136.190.136",
            "weight": 0
          },
          "private": "bnVsbA==",
          "depends_on": [
            "digitalocean_droplet.salt_master"
          ]
        }
      ]
    },
    {
      "module": "module.WebRedirectEndpoint",
      "mode": "managed",
      "type": "digitalocean_record",
      "name": "salt_minion_private",
      "each": "list",
      "provider": "provider.digitalocean",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "domain": "terragon.us",
            "flags": 0,
            "fqdn": "web-redirect-a.private.terragon.us",
            "id": "75640696",
            "name": "web-redirect-a.private",
            "port": 0,
            "priority": 0,
            "tag": "",
            "ttl": 1800,
            "type": "A",
            "value": "10.136.78.54",
            "weight": 0
          },
          "private": "bnVsbA==",
          "depends_on": [
            "digitalocean_droplet.salt_minion"
          ]
        }
      ]
    },
    {
      "module": "module.NodeJSApi-A",
      "mode": "managed",
      "type": "digitalocean_record",
      "name": "salt_minion_private",
      "each": "list",
      "provider": "provider.digitalocean",
      "instances": []
    },
    {
      "module": "module.Jenkins",
      "mode": "managed",
      "type": "digitalocean_record",
      "name": "salt_minion_private",
      "each": "list",
      "provider": "provider.digitalocean",
      "instances": []
    },
    {
      "module": "module.CouchDB",
      "mode": "managed",
      "type": "digitalocean_record",
      "name": "salt_minion_private",
      "each": "list",
      "provider": "provider.digitalocean",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "domain": "terragon.us",
            "flags": 0,
            "fqdn": "couchdb-a.private.terragon.us",
            "id": "75732533",
            "name": "couchdb-a.private",
            "port": 0,
            "priority": 0,
            "tag": "",
            "ttl": 1800,
            "type": "A",
            "value": "10.136.58.218",
            "weight": 0
          },
          "private": "bnVsbA==",
          "depends_on": [
            "digitalocean_droplet.salt_minion"
          ]
        }
      ]
    },
    {
      "module": "module.WebRedirectEndpoint",
      "mode": "managed",
      "type": "digitalocean_record",
      "name": "salt_minion_public",
      "each": "list",
      "provider": "provider.digitalocean",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "domain": "terragon.us",
            "flags": 0,
            "fqdn": "web-redirect-a.terragon.us",
            "id": "75640570",
            "name": "web-redirect-a",
            "port": 0,
            "priority": 0,
            "tag": "",
            "ttl": 1800,
            "type": "A",
            "value": "174.138.33.249",
            "weight": 0
          },
          "private": "bnVsbA==",
          "depends_on": [
            "digitalocean_droplet.salt_minion"
          ]
        }
      ]
    },
    {
      "module": "module.NodeJSApi-A",
      "mode": "managed",
      "type": "digitalocean_record",
      "name": "salt_minion_public",
      "each": "list",
      "provider": "provider.digitalocean",
      "instances": []
    },
    {
      "module": "module.Jenkins",
      "mode": "managed",
      "type": "digitalocean_record",
      "name": "salt_minion_public",
      "each": "list",
      "provider": "provider.digitalocean",
      "instances": []
    },
    {
      "module": "module.CouchDB",
      "mode": "managed",
      "type": "digitalocean_record",
      "name": "salt_minion_public",
      "each": "list",
      "provider": "provider.digitalocean",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "domain": "terragon.us",
            "flags": 0,
            "fqdn": "couchdb-a.terragon.us",
            "id": "75732531",
            "name": "couchdb-a",
            "port": 0,
            "priority": 0,
            "tag": "",
            "ttl": 1800,
            "type": "A",
            "value": "174.138.38.13",
            "weight": 0
          },
          "private": "bnVsbA==",
          "depends_on": [
            "digitalocean_droplet.salt_minion"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "digitalocean_spaces_bucket",
      "name": "frontend",
      "provider": "provider.digitalocean",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "acl": "public-read",
            "bucket_domain_name": "www-terragon-us.nyc3.digitaloceanspaces.com",
            "force_destroy": false,
            "id": "www-terragon-us",
            "name": "www-terragon-us",
            "region": "nyc3",
            "urn": "do:space:www-terragon-us"
          }
        }
      ]
    },
    {
      "mode": "managed",
      "type": "digitalocean_ssh_key",
      "name": "deployer_ssh_key",
      "provider": "provider.digitalocean",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "fingerprint": "2e:05:a5:d1:0f:9e:d8:4e:06:af:20:e7:d4:8b:7b:96",
            "id": "25062300",
            "name": "Deployer SSH Key",
            "public_key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDCCoAzVL4lES4Y7IWt/OuQVc7IIOzcFS40zslLW1hhwAiIgVC2Rt5K3yTYS+WlPj7KTg6Dq+lRVnSxwzXXZlNWVPuMJtNsUVhv5DjUnw+7ASj1ggfAglhtcmaMSyP96kT3w9IqWibwRWW9yxalDOa71cEYu/zVadWIRkH8j6dQkZpK2YojkCyMWHJ4q+BDcgeI96s5Wlw2vFifkPDfTK4vG7cOIlarTsA0gl8sXOf/XO5iuAVYLqvRMgvGsFWhB90NllzJ9gSuo8is59xdQfCzzL0PoZtkwf0LSoGGGfkedQYk8RbR8vshSXEls85jspqRnxczB57YMfyfXOZ43UeB mkeen@membersuite.com"
          }
        }
      ]
    },
    {
      "module": "module.Salt_Master",
      "mode": "managed",
      "type": "digitalocean_ssh_key",
      "name": "salt_master_key",
      "provider": "provider.digitalocean",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "fingerprint": "0c:0d:85:0b:b3:f3:ee:53:41:8f:3e:07:6e:39:cc:da",
            "id": "25071714",
            "name": "Salt Master Key 10.136.190.136",
            "public_key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCiAwxol0dpvEj4B0svum8kVqJv86LcsctUCHmNYNlCqxhw6rO7rqCI6KHgEe/XFahiYNwESEEwgZjP9/CZQyvdWaD9l9Ug4UyboSGlvER6A+ztt/ozaJSy/VGhT5CEJoxtSvI6uMOFIJhfSX/dyJZDpLMxf9sdl086AZWFLGZf0xZZuQVRTzLBwPVYCGKXybm/bG+rDTj24Hj6ADONNCm+kqK2nuF/M6eBPvgWIXTtNDPHe/NS7Ii2c1My7n43+rzV2FgpvGBsPdNfcjt/tFkdk4r5oViFfdAEzXBR3/9JCKohGdtlHjL5KHTq+puEW+TtTZKbwOuEID/sVcTWTfft root@saltm"
          },
          "private": "bnVsbA==",
          "depends_on": [
            "data.local_file.salt_master_key",
            "digitalocean_droplet.salt_master"
          ]
        }
      ]
    },
    {
      "module": "module.WebRedirectEndpoint",
      "mode": "managed",
      "type": "null_resource",
      "name": "bootstrap_salt_keys",
      "each": "list",
      "provider": "provider.null",
      "instances": []
    },
    {
      "module": "module.NodeJSApi-A",
      "mode": "managed",
      "type": "null_resource",
      "name": "bootstrap_salt_keys",
      "each": "list",
      "provider": "provider.null",
      "instances": []
    },
    {
      "module": "module.Jenkins",
      "mode": "managed",
      "type": "null_resource",
      "name": "bootstrap_salt_keys",
      "each": "list",
      "provider": "provider.null",
      "instances": []
    },
    {
      "module": "module.CouchDB",
      "mode": "managed",
      "type": "null_resource",
      "name": "bootstrap_salt_keys",
      "each": "list",
      "provider": "provider.null",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "6600780888516053702",
            "triggers": {
              "ids": "151829567"
            }
          },
          "private": "bnVsbA==",
          "depends_on": [
            "digitalocean_droplet.salt_minion",
            "null_resource.configure_firewalled_minion"
          ]
        }
      ]
    },
    {
      "module": "module.WebRedirectEndpoint",
      "mode": "managed",
      "type": "null_resource",
      "name": "configure_firewalled_minion",
      "each": "list",
      "provider": "provider.null",
      "instances": [
        {
          "index_key": 0,
          "status": "tainted",
          "schema_version": 0,
          "attributes": {
            "id": "8044323210457988633",
            "triggers": {
              "ids": "151829568"
            }
          },
          "private": "bnVsbA==",
          "depends_on": [
            "digitalocean_droplet.salt_minion",
            "digitalocean_firewall.all_outbound",
            "digitalocean_firewall.salt_salt_minion_to_salt_master_private",
            "digitalocean_firewall.ssh_salt_master_to_minion_private"
          ]
        }
      ]
    },
    {
      "module": "module.NodeJSApi-A",
      "mode": "managed",
      "type": "null_resource",
      "name": "configure_firewalled_minion",
      "each": "list",
      "provider": "provider.null",
      "instances": []
    },
    {
      "module": "module.Jenkins",
      "mode": "managed",
      "type": "null_resource",
      "name": "configure_firewalled_minion",
      "each": "list",
      "provider": "provider.null",
      "instances": []
    },
    {
      "module": "module.CouchDB",
      "mode": "managed",
      "type": "null_resource",
      "name": "configure_firewalled_minion",
      "each": "list",
      "provider": "provider.null",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "2268057520578564226",
            "triggers": {
              "ids": "151829567"
            }
          },
          "private": "bnVsbA==",
          "depends_on": [
            "digitalocean_droplet.salt_minion",
            "digitalocean_firewall.all_outbound",
            "digitalocean_firewall.salt_salt_minion_to_salt_master_private",
            "digitalocean_firewall.ssh_salt_master_to_minion_private"
          ]
        }
      ]
    },
    {
      "module": "module.Salt_Master",
      "mode": "managed",
      "type": "null_resource",
      "name": "master_prep",
      "provider": "provider.null",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "7731981917160967979",
            "triggers": {
              "ids": "151829113"
            }
          },
          "private": "bnVsbA==",
          "depends_on": [
            "data.template_file.grains",
            "data.template_file.master_config",
            "digitalocean_droplet.salt_master",
            "digitalocean_firewall.all_outbound",
            "digitalocean_firewall.ssh_public_access"
          ]
        }
      ]
    },
    {
      "module": "module.WebRedirectEndpoint",
      "mode": "managed",
      "type": "null_resource",
      "name": "start_minion",
      "each": "list",
      "provider": "provider.null",
      "instances": []
    },
    {
      "module": "module.NodeJSApi-A",
      "mode": "managed",
      "type": "null_resource",
      "name": "start_minion",
      "each": "list",
      "provider": "provider.null",
      "instances": []
    },
    {
      "module": "module.Jenkins",
      "mode": "managed",
      "type": "null_resource",
      "name": "start_minion",
      "each": "list",
      "provider": "provider.null",
      "instances": []
    },
    {
      "module": "module.CouchDB",
      "mode": "managed",
      "type": "null_resource",
      "name": "start_minion",
      "each": "list",
      "provider": "provider.null",
      "instances": [
        {
          "index_key": 0,
          "schema_version": 0,
          "attributes": {
            "id": "2545284745320619541",
            "triggers": {
              "ids": "151829567"
            }
          },
          "private": "bnVsbA==",
          "depends_on": [
            "digitalocean_droplet.salt_minion",
            "null_resource.bootstrap_salt_keys"
          ]
        }
      ]
    }
  ]
}
